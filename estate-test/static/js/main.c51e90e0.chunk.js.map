{"version":3,"sources":["reducers/index.js","store/index.js","ac/index.js","components/Card/index.js","components/CardList/index.js","pages/HomePage.js","App.js","index.js"],"names":["initialState","loading","cards","error","logger","createLogger","store","createStore","state","arguments","length","undefined","action","type","payload","Object","objectSpread","pagination","activeIndex","total","limit","applyMiddleware","thunk","window","loadCardsStarted","loadCardsSuccess","data","loadCardsFailure","Card","card","this","props","react_default","a","createElement","lib","s","m","l","xl","className","location","settlementName","saleOffer","rentOffer","concat","multiCurrencyPrice","usd","toLocaleString","style","marginRight","class","parseInt","landDetails","area","specification","Component","CardList","map","item","src_components_Card","HomePage","paginationSelect","e","_this","loadAllCards","_this$props","body","items","activePage","maxButtons","onSelect","components_CardList","connect","dispatch","fetch","then","response","json","res","App","pages_HomePage","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c51e90e0.chunk.js","sourcesContent":["const initialState = {\n  loading: false,\n  cards: [],\n  error: null\n};\n\nexport default (state = initialState, action) => {\n    const { type, payload } = action\n    switch(type) {\n        case 'LOAD_CARDS_STARTED':\n            return {\n                ...state,\n                loading: true\n            }\n        case 'LOAD_CARDS_SUCCESS':\n            return {\n                ...state,\n                loading: false,\n                error: null,\n                cards: action.payload.cards,\n                pagination: action.payload.pagination,\n                activeIndex: action.payload.activeIndex,\n                total: action.payload.total,\n                limit: action.payload.limit\n            }\n        case 'LOAD_CARDS_FAILURE':\n            return {\n                ...state,\n                loading: false,\n                error: payload.error\n            }\n        default:\n            return state\n    }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport reducer from '../reducers'\n\nconst logger = createLogger()\n\nconst store = createStore(\n    reducer,\n    applyMiddleware(thunk, logger)\n)\n\nwindow.store = store\n\nexport default store\n","export function loadAllCards(e) {\n\n    return dispatch => {\n        dispatch(loadCardsStarted())\n        try {\n            return fetch(`https://api.jqestate.ru/v1/properties/country?pagination[offset]=${e}`)\n                .then(response => response.json())\n                .then(res => {\n                    dispatch(loadCardsSuccess({\n                        cards:res.items,\n                        pagination: res.pagination,\n                        activeIndex: e,\n                        total: res.pagination.total,\n                        limit: res.pagination.limit\n                    }))\n                })\n        } catch (e) {\n            dispatch(loadCardsFailure(e));\n        }\n    }\n}\n\nconst loadCardsStarted = () => ({\n    type: 'LOAD_CARDS_STARTED'\n});\n\nconst loadCardsSuccess = data => ({\n    type: 'LOAD_CARDS_SUCCESS',\n    payload: data\n});\n\nconst loadCardsFailure = error => ({\n    type: 'LOAD_CARDS_FAILURE',\n    payload: error\n});\n","import React, { Component } from 'react'\nimport { Col } from 'react-materialize'\nimport './index.css'\n\nclass Card extends Component {\n    render() {\n        const card = this.props.card;\n        return (\n            <Col s={12} m={6} l={3} xl={3}>\n                <div className=\"cards__item\">\n                    <div className=\"cards__image\"></div>\n                    <div className=\"cards__title grey-text text-darken-2\">{card.location.settlementName}</div>\n                    <h5 className=\"cards__price\">{\n                        card.saleOffer === null ?\n                        card.rentOffer === null ?\n                        null :\n                        `$${card.rentOffer.multiCurrencyPrice.usd.toLocaleString('ru')}` :\n                        `$${card.saleOffer.multiCurrencyPrice.usd.toLocaleString('ru')}`\n                    }\n                    </h5>\n                    <div className=\"cards__area\">\n                        <div style={{'marginRight': '30px'}} className=\"valign-wrapper\">\n                            <i class=\"tiny material-icons\">map</i>\n                            <span>{`${parseInt(card.landDetails.area)} сот`}</span>\n                        </div>\n                        {card.specification.area !== null ?\n                            (\n                                <div className=\"valign-wrapper\">\n                                    <i class=\"tiny material-icons\">home</i>\n                                    <span>{`${parseInt(card.specification.area)} м`}<sup>2</sup></span>\n                                </div>\n                            )\n                            : ''\n                        }\n\n                    </div>\n                </div>\n            </Col>\n        )\n    }\n}\n\nexport default Card\n","import React, { Component } from 'react'\nimport Card from '../Card'\n\nclass CardList extends Component {\n    render() {\n        return this.props.cards.map(item => {\n            return <Card card = {item} />\n        })\n    }\n}\n\nexport default CardList\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {loadAllCards} from '../ac'\nimport CardList from '../components/CardList'\nimport { Pagination, Row, Col, ProgressBar } from 'react-materialize'\n\nclass HomePage extends Component {\n\n    componentDidMount() {\n        this.props.loadAllCards(1)\n    }\n\n    paginationSelect = (e) => {\n        this.props.loadAllCards(e)\n    }\n    render() {\n        const { loading, cards, activeIndex, total, limit } = this.props\n        const body = cards.length ? (\n            <div>\n                <Pagination\n                    items={total % limit === 0 ? parseInt(total / limit) : parseInt(total / limit) + 1}\n                    activePage={activeIndex}\n                    maxButtons={5}\n                    onSelect={this.paginationSelect}\n                />\n                <Row>\n                    <CardList cards = { cards } />\n                </Row>\n            </div>\n            ) : (\n                <h3>Нет объектов</h3>\n            )\n        return (<div className=\"container\">\n            <h3>Элитная недвижимость в Подмосковье</h3>\n            {\n                loading\n                    ?\n                        <Row>\n                          <Col s={12}>\n                            <ProgressBar />\n                          </Col>\n                        </Row>\n                    : body\n            }\n        </div>)\n    }\n}\n\nconst mapStateToProps = state => {\n    const { cards, activeIndex, total, limit, loading } = state;\n    return {cards, activeIndex, total, limit, loading }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        loadAllCards: (cards) => {\n            dispatch(loadAllCards(cards))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage)\n","import React, { Component } from 'react';\nimport HomePage from './pages/HomePage'\n\nclass App extends Component {\n  render() {\n    return (\n        <HomePage />\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport App from './App';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}